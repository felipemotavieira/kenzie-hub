{"ast":null,"code":"var _jsxFileName = \"/home/felipe/Arquivos/Kenzie/M3/react-entrega-s2-formulario-de-cadastro-felipemotavieira/src/components/techList/TechList.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect } from \"react\";\nimport { TechContext } from \"../../context/TechContext\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Li, P, Ul, PStat, Button, Div } from \"./styles\";\nimport api from \"../../services/api\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TechList = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    techs,\n    setTechs,\n    onDeleteTech\n  } = useContext(TechContext);\n  useEffect(() => {\n    let token = localStorage.getItem(\"@TOKEN\");\n    api.get(\"/profile\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setTechs(response.data.techs);\n    }).catch(error => {\n      navigate(\"/\");\n    });\n  }, [techs]);\n\n  async function deleteTech(id) {\n    let verify = await onDeleteTech(id);\n    verify ? toast.success(\"Tecnologia excluída com sucesso\") : toast.error(\"Não foi possível excluir essa tecnologia\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Ul, {\n      children: techs.length ? techs.map((elem, index) => /*#__PURE__*/_jsxDEV(Li, {\n        children: [/*#__PURE__*/_jsxDEV(P, {\n          children: [elem.title, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Div, {\n          children: [/*#__PURE__*/_jsxDEV(PStat, {\n            children: elem.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => deleteTech(elem.id),\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(P, {\n        children: \"Adicione tecnologias\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(TechList, \"t2dwURJ9a+AgP+HHhck9vLO9v74=\", false, function () {\n  return [useNavigate];\n});\n\n_c = TechList;\nexport default TechList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TechList\");","map":{"version":3,"names":["useContext","useEffect","TechContext","toast","Li","P","Ul","PStat","Button","Div","api","useNavigate","TechList","navigate","techs","setTechs","onDeleteTech","token","localStorage","getItem","get","headers","Authorization","then","response","data","catch","error","deleteTech","id","verify","success","length","map","elem","index","title","status"],"sources":["/home/felipe/Arquivos/Kenzie/M3/react-entrega-s2-formulario-de-cadastro-felipemotavieira/src/components/techList/TechList.tsx"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { TechContext } from \"../../context/TechContext\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Li, P, Ul, PStat, Button, Div } from \"./styles\";\nimport api from \"../../services/api\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst TechList = () => {\n  const navigate = useNavigate();\n  const { techs, setTechs, onDeleteTech } = useContext(TechContext);\n\n  useEffect(() => {\n    let token = localStorage.getItem(\"@TOKEN\");\n    api\n      .get(\"/profile\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((response) => {\n        setTechs(response.data.techs);\n      })\n      .catch((error) => {\n        navigate(\"/\");\n      });\n  }, [techs]);\n\n  async function deleteTech(id: string) {\n    let verify = await onDeleteTech(id);\n\n    verify\n      ? toast.success(\"Tecnologia excluída com sucesso\")\n      : toast.error(\"Não foi possível excluir essa tecnologia\");\n  }\n\n  return (\n    <>\n      <Ul>\n        {techs.length ? (\n          techs.map((elem, index) => (\n            <Li key={index}>\n              <P>{elem.title} </P>\n              <Div>\n                <PStat>{elem.status}</PStat>\n                <Button onClick={() => deleteTech(elem.id)}>x</Button>\n              </Div>\n            </Li>\n          ))\n        ) : (\n          <P>Adicione tecnologias</P>\n        )}\n      </Ul>\n    </>\n  );\n};\n\nexport default TechList;\n"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AACA,SAASC,EAAT,EAAaC,CAAb,EAAgBC,EAAhB,EAAoBC,KAApB,EAA2BC,MAA3B,EAAmCC,GAAnC,QAA8C,UAA9C;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EACrB,MAAMC,QAAQ,GAAGF,WAAW,EAA5B;EACA,MAAM;IAAEG,KAAF;IAASC,QAAT;IAAmBC;EAAnB,IAAoChB,UAAU,CAACE,WAAD,CAApD;EAEAD,SAAS,CAAC,MAAM;IACd,IAAIgB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAZ;IACAT,GAAG,CACAU,GADH,CACO,UADP,EACmB;MACfC,OAAO,EAAE;QACPC,aAAa,EAAG,UAASL,KAAM;MADxB;IADM,CADnB,EAMGM,IANH,CAMSC,QAAD,IAAc;MAClBT,QAAQ,CAACS,QAAQ,CAACC,IAAT,CAAcX,KAAf,CAAR;IACD,CARH,EASGY,KATH,CASUC,KAAD,IAAW;MAChBd,QAAQ,CAAC,GAAD,CAAR;IACD,CAXH;EAYD,CAdQ,EAcN,CAACC,KAAD,CAdM,CAAT;;EAgBA,eAAec,UAAf,CAA0BC,EAA1B,EAAsC;IACpC,IAAIC,MAAM,GAAG,MAAMd,YAAY,CAACa,EAAD,CAA/B;IAEAC,MAAM,GACF3B,KAAK,CAAC4B,OAAN,CAAc,iCAAd,CADE,GAEF5B,KAAK,CAACwB,KAAN,CAAY,0CAAZ,CAFJ;EAGD;;EAED,oBACE;IAAA,uBACE,QAAC,EAAD;MAAA,UACGb,KAAK,CAACkB,MAAN,GACClB,KAAK,CAACmB,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,kBACR,QAAC,EAAD;QAAA,wBACE,QAAC,CAAD;UAAA,WAAID,IAAI,CAACE,KAAT;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE,QAAC,GAAD;UAAA,wBACE,QAAC,KAAD;YAAA,UAAQF,IAAI,CAACG;UAAb;YAAA;YAAA;YAAA;UAAA,QADF,eAEE,QAAC,MAAD;YAAQ,OAAO,EAAE,MAAMT,UAAU,CAACM,IAAI,CAACL,EAAN,CAAjC;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFF;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA,GAASM,KAAT;QAAA;QAAA;QAAA;MAAA,QADF,CADD,gBAWC,QAAC,CAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAZJ;MAAA;MAAA;MAAA;IAAA;EADF,iBADF;AAmBD,CA/CD;;GAAMvB,Q;UACaD,W;;;KADbC,Q;AAiDN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}