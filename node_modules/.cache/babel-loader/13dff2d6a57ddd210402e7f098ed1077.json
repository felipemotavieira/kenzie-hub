{"ast":null,"code":"var _jsxFileName = \"/home/felipe/Arquivos/Kenzie/M3/react-entrega-s2-formulario-de-cadastro-felipemotavieira/src/context/TechContext.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, createContext } from \"react\";\nimport api from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TechContext = /*#__PURE__*/createContext({});\n\nfunction TechProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  // const navigate = useNavigate();\n  const [techs, setTechs] = useState([]);\n\n  const onCreateTech = async data => {\n    let token = localStorage.getItem(\"@TOKEN\");\n    return api.post(\"/users/techs\", data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(() => {\n      return true;\n    }).catch(() => false);\n  };\n\n  const onDeleteTech = async data => {\n    let token = localStorage.getItem(\"@TOKEN\");\n    return api.delete(`users/techs/${data}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(() => {\n      return true;\n    }).catch(() => false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(TechContext.Provider, {\n    value: {\n      onCreateTech,\n      onDeleteTech,\n      techs,\n      setTechs\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TechProvider, \"g+ClSbYN8zSNLWqa9LBbbzKytcI=\");\n\n_c = TechProvider;\nexport default TechProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TechProvider\");","map":{"version":3,"names":["useState","createContext","api","TechContext","TechProvider","children","techs","setTechs","onCreateTech","data","token","localStorage","getItem","post","headers","Authorization","then","catch","onDeleteTech","delete"],"sources":["/home/felipe/Arquivos/Kenzie/M3/react-entrega-s2-formulario-de-cadastro-felipemotavieira/src/context/TechContext.tsx"],"sourcesContent":["import {\n  useState,\n  createContext,\n  ReactNode,\n  Dispatch,\n  SetStateAction,\n} from \"react\";\n\nimport api from \"../services/api\";\n\ninterface ITechProviderProps {\n  children: ReactNode;\n}\n\ninterface ITechs {\n  title: string;\n  status: string;\n  id: string;\n}\n\ninterface ITechProviderData {\n  techs: ITechs[];\n  // getTechs: () => void;\n  setTechs: Dispatch<SetStateAction<ITechs[]>>;\n  onCreateTech: (data: ITechs) => Promise<boolean>;\n  onDeleteTech: (data: string) => Promise<boolean>;\n}\n\nexport const TechContext = createContext<ITechProviderData>(\n  {} as ITechProviderData\n);\n\nfunction TechProvider({ children }: ITechProviderProps) {\n  // const navigate = useNavigate();\n\n  const [techs, setTechs] = useState<ITechs[]>([]);\n\n  const onCreateTech = async (data: ITechs) => {\n    let token = localStorage.getItem(\"@TOKEN\");\n    return api\n      .post(\"/users/techs\", data, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(() => {\n        return true;\n      })\n      .catch(() => false);\n  };\n\n  const onDeleteTech = async (data: string) => {\n    let token = localStorage.getItem(\"@TOKEN\");\n    return api\n      .delete(`users/techs/${data}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(() => {\n        return true;\n      })\n      .catch(() => false);\n  };\n\n  return (\n    <TechContext.Provider\n      value={{ onCreateTech, onDeleteTech, techs, setTechs }}\n    >\n      {children}\n    </TechContext.Provider>\n  );\n}\n\nexport default TechProvider;\n"],"mappings":";;;AAAA,SACEA,QADF,EAEEC,aAFF,QAMO,OANP;AAQA,OAAOC,GAAP,MAAgB,iBAAhB;;AAoBA,OAAO,MAAMC,WAAW,gBAAGF,aAAa,CACtC,EADsC,CAAjC;;AAIP,SAASG,YAAT,OAAwD;EAAA;;EAAA,IAAlC;IAAEC;EAAF,CAAkC;EACtD;EAEA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAW,EAAX,CAAlC;;EAEA,MAAMQ,YAAY,GAAG,MAAOC,IAAP,IAAwB;IAC3C,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAZ;IACA,OAAOV,GAAG,CACPW,IADI,CACC,cADD,EACiBJ,IADjB,EACuB;MAC1BK,OAAO,EAAE;QACPC,aAAa,EAAG,UAASL,KAAM;MADxB;IADiB,CADvB,EAMJM,IANI,CAMC,MAAM;MACV,OAAO,IAAP;IACD,CARI,EASJC,KATI,CASE,MAAM,KATR,CAAP;EAUD,CAZD;;EAcA,MAAMC,YAAY,GAAG,MAAOT,IAAP,IAAwB;IAC3C,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAZ;IACA,OAAOV,GAAG,CACPiB,MADI,CACI,eAAcV,IAAK,EADvB,EAC0B;MAC7BK,OAAO,EAAE;QACPC,aAAa,EAAG,UAASL,KAAM;MADxB;IADoB,CAD1B,EAMJM,IANI,CAMC,MAAM;MACV,OAAO,IAAP;IACD,CARI,EASJC,KATI,CASE,MAAM,KATR,CAAP;EAUD,CAZD;;EAcA,oBACE,QAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE;MAAET,YAAF;MAAgBU,YAAhB;MAA8BZ,KAA9B;MAAqCC;IAArC,CADT;IAAA,UAGGF;EAHH;IAAA;IAAA;IAAA;EAAA,QADF;AAOD;;GAxCQD,Y;;KAAAA,Y;AA0CT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}